{"version":3,"file":"js/userprofile.58832e1b.js","mappings":"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","sources":["webpack://ecommerce-vuejs/./src/pages/UserProfile.vue","webpack://ecommerce-vuejs/./src/pages/UserProfile.vue?4432"],"sourcesContent":["<template>\r\n  <div class=\"mt-20 max-w-[1170px] mx-auto max-tablet:mx-5\">\r\n    <div class=\"max-tablet:mx-3\">\r\n      <a-breadcrumb>\r\n        <a-breadcrumb-item>\r\n          <router-link to=\"/\"> Home </router-link>\r\n        </a-breadcrumb-item>\r\n        <a-breadcrumb-item>My Account</a-breadcrumb-item>\r\n      </a-breadcrumb>\r\n    </div>\r\n    <div class=\"mt-20 flex gap-[100px]\">\r\n      <div class=\"flex-1 py-10 px-2\">\r\n        <h1 class=\"text-primary mb-4\">Edit Your Profile</h1>\r\n        <div class=\"flex flex-col gap-2 w-full\">\r\n          <label for=\"firstName\">Full Name</label>\r\n          <input type=\"text\" v-model=\"fullname\" :class=\"inputStyle\" />\r\n        </div>\r\n        <div class=\"mt-6 w-full flex gap-14\">\r\n          <div class=\"flex flex-col gap-2 w-full\">\r\n            <label for=\"email\">Email</label>\r\n            <input type=\"email\" v-model=\"email\" :class=\"inputStyle\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-6 w-full flex gap-14\">\r\n          <div class=\"flex flex-col gap-2 w-full\">\r\n            <label for=\"address\">Address</label>\r\n            <input type=\"text\" v-model=\"address\" :class=\"inputStyle\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-6 w-full flex gap-14\">\r\n          <div class=\"flex flex-col gap-2 w-full\">\r\n            <label for=\"phoneNumber\">Phone Number</label>\r\n            <input type=\"text\" v-model=\"phoneNumber\" :class=\"inputStyle\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"mt-6 float-right\">\r\n          <button\r\n            class=\"bg-primary px-12 py-4 rounded text-white font-medium\"\r\n            @click=\"toggleEditMode\"\r\n            v-show=\"showEditBtn\"\r\n          >\r\n            Edit Information\r\n          </button>\r\n          <div class=\"flex items-center rounded gap-6\" v-show=\"showUpdateBtn\">\r\n            <button class=\"bg-gray-100 px-5 py-4\" @click=\"toggleEditMode\">\r\n              cancel\r\n            </button>\r\n            <button\r\n              class=\"bg-primary px-12 py-4 rounded text-white font-medium\"\r\n              @click=\"updateUserProfile\"\r\n            >\r\n              updateProfile\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { getAuth, updateProfile } from \"firebase/auth\";\r\nimport \"firebase/auth\";\r\nimport User from \"@/store/getUser\";\r\nimport { ref } from \"vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      inputStyle: \"unselectable\",\r\n      showEditBtn: true,\r\n      showUpdateBtn: false,\r\n      fullname: ref(\"\"),\r\n      email: ref(\"\"),\r\n      address: ref(\"\"),\r\n      phoneNumber: ref(\"\"),\r\n    };\r\n  },\r\n  async mounted() {\r\n    const user = await User().getCurrentUser();\r\n    console.log(user);\r\n\r\n    const newURL = `http://localhost:3000/user/auth/${user.email}/info`;\r\n    console.log(newURL);\r\n\r\n    fetch(newURL)\r\n      .then((res) => res.json())\r\n      .then(async (data) => {\r\n        console.log(data, this.fullname, this.email);\r\n        const userInfo = data.data;\r\n        this.fullname = userInfo.name;\r\n        this.email = userInfo.email;\r\n        this.address = userInfo.address;\r\n        this.phoneNumber = userInfo.phoneNumber;\r\n      });\r\n  },\r\n  methods: {\r\n    async toggleEditMode() {\r\n      if (this.showEditBtn) {\r\n        this.inputStyle = \"select\";\r\n      } else {\r\n        this.inputStyle = \"unselectable\";\r\n      }\r\n      this.showUpdateBtn = !this.showUpdateBtn;\r\n      this.showEditBtn = !this.showEditBtn;\r\n    },\r\n    async updateUserProfile() {\r\n      const auth = getAuth();\r\n      updateProfile(auth.currentUser, {\r\n        displayName: this.fullname,\r\n        email: this.email,\r\n      })\r\n        .then(async () => {\r\n          const user = await User().getCurrentUser();\r\n          const email = await user.email;\r\n          fetch(`http://localhost:3000/user/auth/${email}/update`, {\r\n            method: \"PUT\",\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n            },\r\n            body: JSON.stringify({\r\n              name: this.fullname,\r\n              email: this.email,\r\n              address: this.address,\r\n              phoneNumber: this.phoneNumber,\r\n            }),\r\n          });\r\n\r\n          this.inputStyle = \"unselectable\";\r\n          this.showUpdateBtn = !this.showUpdateBtn;\r\n          this.showEditBtn = !this.showEditBtn;\r\n          alert(\"profile is updated\");\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n.unselectable,\r\n.select {\r\n  background-color: #f5f5f5;\r\n  padding: 13px 12px 13px 12px;\r\n  font-family: \"Times New Roman\";\r\n  font-size: 18px;\r\n}\r\n.unselectable {\r\n  pointer-events: none;\r\n}\r\n</style>\r\n","import { render } from \"./UserProfile.vue?vue&type=template&id=87b4696e&scoped=true\"\nimport script from \"./UserProfile.vue?vue&type=script&lang=js\"\nexport * from \"./UserProfile.vue?vue&type=script&lang=js\"\n\nimport \"./UserProfile.vue?vue&type=style&index=0&id=87b4696e&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-87b4696e\"]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_a_breadcrumb","default","_withCtx","_component_a_breadcrumb_item","_component_router_link","to","_cache","_createTextVNode","_","_hoisted_3","_hoisted_4","_hoisted_5","for","type","$event","$data","fullname","_normalizeClass","inputStyle","_hoisted_6","_hoisted_7","email","_hoisted_8","_hoisted_9","address","_hoisted_10","_hoisted_11","phoneNumber","_hoisted_12","onClick","args","$options","toggleEditMode","showEditBtn","_hoisted_13","updateUserProfile","showUpdateBtn","data","ref","mounted","user","User","getCurrentUser","console","log","newURL","fetch","then","res","json","async","this","userInfo","name","methods","auth","getAuth","updateProfile","currentUser","displayName","method","headers","body","JSON","stringify","alert","catch","err","__exports__","render"],"sourceRoot":""}