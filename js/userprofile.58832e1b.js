"use strict";(self["webpackChunkecommerce_vuejs"]=self["webpackChunkecommerce_vuejs"]||[]).push([[45],{6224:function(e,t,l){l.r(t),l.d(t,{default:function(){return B}});var a=l(641),s=l(33),o=l(3751);const n={class:"mt-20 max-w-[1170px] mx-auto max-tablet:mx-5"},i={class:"max-tablet:mx-3"},d={class:"mt-20 flex gap-[100px]"},u={class:"flex-1 py-10 px-2"},r={class:"flex flex-col gap-2 w-full"},c={class:"mt-6 w-full flex gap-14"},m={class:"flex flex-col gap-2 w-full"},p={class:"mt-6 w-full flex gap-14"},h={class:"flex flex-col gap-2 w-full"},f={class:"mt-6 w-full flex gap-14"},b={class:"flex flex-col gap-2 w-full"},k={class:"mt-6 float-right"},g={class:"flex items-center rounded gap-6"};function x(e,t,l,x,y,w){const L=(0,a.g2)("router-link"),v=(0,a.g2)("a-breadcrumb-item"),U=(0,a.g2)("a-breadcrumb");return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",i,[(0,a.bF)(U,null,{default:(0,a.k6)((()=>[(0,a.bF)(v,null,{default:(0,a.k6)((()=>[(0,a.bF)(L,{to:"/"},{default:(0,a.k6)((()=>t[7]||(t[7]=[(0,a.eW)(" Home ")]))),_:1})])),_:1}),(0,a.bF)(v,null,{default:(0,a.k6)((()=>t[8]||(t[8]=[(0,a.eW)("My Account")]))),_:1})])),_:1})]),(0,a.Lk)("div",d,[(0,a.Lk)("div",u,[t[13]||(t[13]=(0,a.Lk)("h1",{class:"text-primary mb-4"},"Edit Your Profile",-1)),(0,a.Lk)("div",r,[t[9]||(t[9]=(0,a.Lk)("label",{for:"firstName"},"Full Name",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=e=>y.fullname=e),class:(0,s.C4)(y.inputStyle)},null,2),[[o.Jo,y.fullname]])]),(0,a.Lk)("div",c,[(0,a.Lk)("div",m,[t[10]||(t[10]=(0,a.Lk)("label",{for:"email"},"Email",-1)),(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=e=>y.email=e),class:(0,s.C4)(y.inputStyle)},null,2),[[o.Jo,y.email]])])]),(0,a.Lk)("div",p,[(0,a.Lk)("div",h,[t[11]||(t[11]=(0,a.Lk)("label",{for:"address"},"Address",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>y.address=e),class:(0,s.C4)(y.inputStyle)},null,2),[[o.Jo,y.address]])])]),(0,a.Lk)("div",f,[(0,a.Lk)("div",b,[t[12]||(t[12]=(0,a.Lk)("label",{for:"phoneNumber"},"Phone Number",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>y.phoneNumber=e),class:(0,s.C4)(y.inputStyle)},null,2),[[o.Jo,y.phoneNumber]])])]),(0,a.Lk)("div",k,[(0,a.bo)((0,a.Lk)("button",{class:"bg-primary px-12 py-4 rounded text-white font-medium",onClick:t[4]||(t[4]=(...e)=>w.toggleEditMode&&w.toggleEditMode(...e))}," Edit Information ",512),[[o.aG,y.showEditBtn]]),(0,a.bo)((0,a.Lk)("div",g,[(0,a.Lk)("button",{class:"bg-gray-100 px-5 py-4",onClick:t[5]||(t[5]=(...e)=>w.toggleEditMode&&w.toggleEditMode(...e))}," cancel "),(0,a.Lk)("button",{class:"bg-primary px-12 py-4 rounded text-white font-medium",onClick:t[6]||(t[6]=(...e)=>w.updateUserProfile&&w.updateUserProfile(...e))}," updateProfile ")],512),[[o.aG,y.showUpdateBtn]])])])])])}var y=l(1032),w=l(3250),L=l(953),v={data(){return{inputStyle:"unselectable",showEditBtn:!0,showUpdateBtn:!1,fullname:(0,L.KR)(""),email:(0,L.KR)(""),address:(0,L.KR)(""),phoneNumber:(0,L.KR)("")}},async mounted(){const e=await(0,w.A)().getCurrentUser();console.log(e);const t=`http://localhost:3000/user/auth/${e.email}/info`;console.log(t),fetch(t).then((e=>e.json())).then((async e=>{console.log(e,this.fullname,this.email);const t=e.data;this.fullname=t.name,this.email=t.email,this.address=t.address,this.phoneNumber=t.phoneNumber}))},methods:{async toggleEditMode(){this.showEditBtn?this.inputStyle="select":this.inputStyle="unselectable",this.showUpdateBtn=!this.showUpdateBtn,this.showEditBtn=!this.showEditBtn},async updateUserProfile(){const e=(0,y.xI)();(0,y.r7)(e.currentUser,{displayName:this.fullname,email:this.email}).then((async()=>{const e=await(0,w.A)().getCurrentUser(),t=await e.email;fetch(`http://localhost:3000/user/auth/${t}/update`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.fullname,email:this.email,address:this.address,phoneNumber:this.phoneNumber})}),this.inputStyle="unselectable",this.showUpdateBtn=!this.showUpdateBtn,this.showEditBtn=!this.showEditBtn,alert("profile is updated")})).catch((e=>{console.log(e)}))}}},U=l(6262);const E=(0,U.A)(v,[["render",x],["__scopeId","data-v-87b4696e"]]);var B=E}}]);
//# sourceMappingURL=userprofile.58832e1b.js.map