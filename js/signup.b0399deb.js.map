{"version":3,"file":"js/signup.b0399deb.js","mappings":"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","sources":["webpack://ecommerce-vuejs/./src/pages/SignUp.vue","webpack://ecommerce-vuejs/./src/pages/SignUp.vue?8cdd"],"sourcesContent":["<template>\r\n  <div class=\"mt-[60px]\">\r\n    <div class=\"flex items-center gap-[90px] max-tablet:px-4\">\r\n      <div class=\"w-[60%] pt-[75px] bg-[#CBE4E8] max-tablet:hidden\">\r\n        <img src=\"@/assets/images/signupBG.png\" alt=\"\" />\r\n      </div>\r\n      <div class=\"w-[30%] max-tablet:w-full\">\r\n        <div\r\n          v-if=\"userExists\"\r\n          class=\"bg-[#ff818146] border-[#ff818266] border-2 border-solid rounded flex justify-center items-center h-20 mb-2\"\r\n        >\r\n          <p class=\"text-base\">User already exists. Please log in.</p>\r\n          <button @click=\"userExists = false\">\r\n            <img class=\"ml-2 w-5 h-5\" src=\"@/assets/fonts/close.svg\" alt=\"\" />\r\n          </button>\r\n        </div>\r\n        <h1 class=\"font-[inter] text-4xl font-medium\">Create an account</h1>\r\n        <h2 class=\"mt-6 mb-12\">Enter your details below</h2>\r\n        <form @submit.prevent=\"validate\">\r\n          <div class=\"input-form\">\r\n            <input type=\"text\" v-model=\"name\" required />\r\n            <label for=\"name\">Name</label>\r\n            <div v-if=\"error.name\">\r\n              <p>{{ error.name }}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"input-form\">\r\n            <input type=\"email\" v-model=\"email\" required />\r\n            <label for=\"email\">Email</label>\r\n            <div v-if=\"error.email\">\r\n              <p>{{ error.email }}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"input-form\">\r\n            <input type=\"password\" v-model=\"pwd\" required />\r\n            <label for=\"password\">password</label>\r\n            <div v-if=\"error.pwd\">\r\n              <p>{{ error.pwd }}</p>\r\n            </div>\r\n          </div>\r\n          <button type=\"submit\" class=\"mt-10 button--hover w-full\">\r\n            Create Account\r\n          </button>\r\n        </form>\r\n        <button\r\n          class=\"mt-4 w-full flex justify-center items-center gap-4 bg-white border border-black rounded-md py-4\"\r\n          @click=\"signInGoogle\"\r\n        >\r\n          <img src=\"@/assets/fonts/google.svg\" alt=\"\" />\r\n          <p>Sign up with Google</p>\r\n        </button>\r\n        <div class=\"mt-8 flex justify-center items-center gap-4\">\r\n          <p>Already have account?</p>\r\n          <router-link to=\"/login\" class=\"font-medium border-b border-black\">\r\n            Log in\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { ref } from \"vue\";\r\nimport firebase from \"firebase/compat/app\";\r\nimport { useRouter } from \"vue-router\";\r\nimport useFetch from \"@/store/fetchAPI\";\r\nexport default {\r\n  data() {\r\n    const name = ref(\"\");\r\n    const email = ref(\"\");\r\n    const pwd = ref(\"\");\r\n    const router = useRouter();\r\n    const userExists = ref(false);\r\n    const Register = () => {\r\n      firebase\r\n        .auth()\r\n        .createUserWithEmailAndPassword(email.value, pwd.value)\r\n        .then((user) => {\r\n          user.user.updateProfile({\r\n            displayName: name.value,\r\n          });\r\n          router.replace(\"/\");\r\n        })\r\n        .catch((err) => {\r\n          if (err.code === \"auth/email-already-in-use\") {\r\n            userExists.value = true;\r\n          } else {\r\n            console.log(err.message);\r\n          }\r\n        });\r\n    };\r\n\r\n    return {\r\n      URL: useFetch().URL,\r\n      Register,\r\n      name,\r\n      email,\r\n      pwd,\r\n      error: [],\r\n      userExists,\r\n    };\r\n  },\r\n  methods: {\r\n    signInGoogle() {\r\n      const provider = new firebase.auth.GoogleAuthProvider();\r\n      firebase\r\n        .auth()\r\n        .signInWithPopup(provider)\r\n        .then((result) => {\r\n          const user = result.user;\r\n          this.email = user.email;\r\n          this.name = user.displayName;\r\n          this.createUserDB();\r\n          setTimeout(() => {\r\n            this.$router.push(\"/\");\r\n          }, 2000);\r\n        })\r\n        .catch((error) => {\r\n          console.log(\"Google Sign-in failed\", error);\r\n        });\r\n      // signInWithPopup(getAuth(), provider)\r\n      //   .then((result) => {\r\n      //     console.log(result.user);\r\n      //     router.push(\"/\");\r\n      //   })\r\n      //   .catch((error) => {\r\n      //     console.log(\"Google Sign-in failed\", error);\r\n      //   });\r\n    },\r\n    minlength(value, minLength) {\r\n      return value.length > minLength ? true : false;\r\n    },\r\n    checkEmail(email) {\r\n      if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(email)) {\r\n        return true;\r\n      }\r\n      return false;\r\n    },\r\n    createUserDB() {\r\n      const newURL = this.URL + \"user/register\";\r\n      console.log(newURL);\r\n      fetch(newURL, {\r\n        method: \"POST\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({\r\n          name: this.name,\r\n          emailLogin: this.email,\r\n        }),\r\n      });\r\n    },\r\n    async validate() {\r\n      this.error = [];\r\n      if (!this.minlength(this.name, 5)) {\r\n        this.error[\"name\"] = \"name must be at least 5 characters\";\r\n      }\r\n      if (!this.checkEmail(this.email)) {\r\n        this.error[\"email\"] = \"Entered an invalid email address!\";\r\n      }\r\n      if (!this.minlength(this.pwd, 5)) {\r\n        this.error[\"pwd\"] = \"password must be at least 6 characters\";\r\n      }\r\n      if (Object.keys(this.error).length == 0) {\r\n        this.createUserDB();\r\n        this.Register();\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\ninput {\r\n  border: none;\r\n  outline: none;\r\n}\r\n.input-form {\r\n  height: 40px;\r\n  margin-top: 40px;\r\n  position: relative;\r\n  border-bottom: 0.5px solid #000;\r\n}\r\n.input-form label {\r\n  pointer-events: none;\r\n  position: absolute;\r\n  transition: 0.5s;\r\n  top: 0;\r\n  color: black;\r\n  opacity: 0.3;\r\n}\r\n\r\n.input-form input:focus ~ label,\r\n.input-form input:valid ~ label {\r\n  top: -17px;\r\n}\r\n\r\n.input-form input {\r\n  position: absolute;\r\n  background-color: transparent;\r\n  width: 100%;\r\n  padding: 5px 0;\r\n}\r\n.input-form > div {\r\n  position: absolute;\r\n  color: red;\r\n  margin-top: 40px;\r\n}\r\n</style>\r\n","import { render } from \"./SignUp.vue?vue&type=template&id=7464131d&scoped=true\"\nimport script from \"./SignUp.vue?vue&type=script&lang=js\"\nexport * from \"./SignUp.vue?vue&type=script&lang=js\"\n\nimport \"./SignUp.vue?vue&type=style&index=0&id=7464131d&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7464131d\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","src","_imports_0","alt","_hoisted_3","$data","userExists","_hoisted_4","onClick","_cache","$event","_imports_1","_createCommentVNode","onSubmit","_withModifiers","args","$options","validate","_hoisted_5","type","name","required","for","error","_hoisted_6","_toDisplayString","_hoisted_7","email","_hoisted_8","_hoisted_9","pwd","_hoisted_10","signInGoogle","_imports_2","_hoisted_11","_createVNode","_component_router_link","to","default","_withCtx","_createTextVNode","_","data","ref","router","useRouter","Register","firebase","auth","createUserWithEmailAndPassword","value","then","user","updateProfile","displayName","replace","catch","err","code","console","log","message","URL","useFetch","methods","provider","GoogleAuthProvider","signInWithPopup","result","this","createUserDB","setTimeout","$router","push","minlength","minLength","length","checkEmail","test","newURL","fetch","method","headers","body","JSON","stringify","emailLogin","Object","keys","__exports__","render"],"sourceRoot":""}