{"version":3,"file":"js/allproducts.83085da0.js","mappings":"+tCAgLAA,EAAe,CACbC,WAAY,CAAEC,gBAAeA,EAAAA,GAC7BC,MAAO,CAAC,YACRC,IAAAA,GACE,MAAM,UAAEC,EAAS,UAAEC,EAAS,cAAEC,EAAa,UAAEC,IAAcC,EAAAA,EAAAA,KACrDC,GAAQC,EAAAA,EAAAA,IAAI,MAEZC,GAAcD,EAAAA,EAAAA,IAAI,GAClBE,EAAU,EACVC,GAAWH,EAAAA,EAAAA,IAAI,IACfI,GAAaJ,EAAAA,EAAAA,IAAI,GAEjBK,EAAgBA,KACpBJ,EAAYK,MAAQ,GAAKL,EAAYK,MAAQF,EAAWE,MACnDL,EAAYK,MAAQ,EACrBL,EAAYK,MAEhBH,EAASG,MAAQP,EAAMO,MAAMC,OAC1BN,EAAYK,MAAQ,GAAKJ,GACzBD,EAAYK,MAAQ,GAAKJ,EAAUA,EACrC,EAaH,OAVAM,YAAWC,gBACHZ,EAAUa,KAAKC,UAErBZ,EAAMO,MAAQZ,EAAUY,MAExBD,IAEAD,EAAWE,MAAQM,KAAKC,KAAKd,EAAMO,MAAMQ,OAASZ,EAAQ,GACzD,KAEI,CACLH,QACAJ,YACAC,gBACAmB,aAAY,IACZC,gBAAe,IACfb,WACAC,aACAC,gBACAJ,cACAgB,UAAW,GAEf,EACA,aAAMC,GACJR,KAAKO,gBAAkBE,EAAAA,EAAAA,KAAOC,UAChC,G,qDA1EF,MAAOC,EAAKC,GAAiBC,EAAAA,EAAaC,kBACpCC,EAAyBA,CAACC,EAAMT,EAAWU,KAC1CV,EAMHI,EAAIO,QAAQ,CACVC,QAAS,UACTC,YAAa,SAASJ,EAAKK,gBAAgBJ,OAP7CN,EAAIW,MAAM,CACRH,QAAS,QACTC,YAAa,0CAOjB,E,ywFC5JF,MAAMG,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://ecommerce-vuejs/./src/pages/allProducts.vue","webpack://ecommerce-vuejs/./src/pages/allProducts.vue?04d2"],"sourcesContent":["<template>\r\n  <div v-if=\"items\" class=\"mt-8 max-w-[1170px] mx-auto\">\r\n    <div id=\"road-map\" class=\"flex items-center gap-3 my-20\">\r\n      <a-breadcrumb>\r\n        <a-breadcrumb-item>\r\n          <router-link to=\"/\"> Home </router-link>\r\n        </a-breadcrumb-item>\r\n        <a-breadcrumb-item>{{ nameList }}</a-breadcrumb-item>\r\n      </a-breadcrumb>\r\n    </div>\r\n    <div\r\n      class=\"grid grid-cols-4 gap-8 max-tablet:grid-cols-2 max-tablet:mx-2 max-tablet:gap-4\"\r\n    >\r\n      <template\r\n        class=\"flex flex-col gap-4 w-[270px] cursor-pointer max-pc:w-[100%]\"\r\n        v-for=\"item in perItems\"\r\n        :key=\"item._id\"\r\n      >\r\n        <router-link\r\n          :to=\"{\r\n            name: 'itemsDetails',\r\n            params: { id: item._id, nameList: nameList },\r\n          }\"\r\n        >\r\n          <div\r\n            class=\"item w-full h-[250px] max-tablet:h-[150px] bg-grayScale rounded-md overflow-hidden outline-none border-none flex items-center justify-center relative\"\r\n          >\r\n            <div\r\n              class=\"absolute top-3 left-3 px-3 py-1 bg-primary rounded-md z-10\"\r\n              v-if=\"item.discount > 0\"\r\n            >\r\n              <p class=\"text-white text-xs\">-{{ item.discount }}%</p>\r\n            </div>\r\n\r\n            <img\r\n              loading=\"lazy\"\r\n              class=\"items-product p-[14px] max-tablet:max-h-[150px]\"\r\n              :src=\"item.thumbnail\"\r\n              alt=\"\"\r\n            />\r\n            <div\r\n              class=\"absolute top-3 right-3 flex flex-col justify-center gap-2\"\r\n              @click.prevent=\"\r\n                () => handleOpenNotification(item, emailUser, 'wish list')\r\n              \"\r\n              @click=\"addToWishList(item, emailUser)\"\r\n            >\r\n              <img\r\n                loading=\"lazy\"\r\n                class=\"w-12 h-12 max-tablet:w-6 max-tablet:h-6 m-[5px] p-[5px] rounded-full bg-white hover:invert cursor-pointer\"\r\n                src=\"@/assets/fonts/heart.svg\"\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <div\r\n              class=\"add-to-cart absolute bottom-0 left-50% w-full py-2 flex items-center justify-center bg-black\"\r\n            >\r\n              <a\r\n                @click.prevent=\"\r\n                  () => handleOpenNotification(item, emailUser, 'cart')\r\n                \"\r\n                @click=\"addToCart(item, emailUser)\"\r\n                class=\"text-white w-full flex justify-center items-center hover:text-red-400\"\r\n              >\r\n                Add To Cart\r\n              </a>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex flex-col gap-2\">\r\n            <h2 class=\"font-semibold\">{{ item.name }}</h2>\r\n            <div class=\"flex items-center gap-3\">\r\n              <p class=\"text-primary font-semibold\">\r\n                {{ calculatorSales(item.price, item.discount) }}\r\n              </p>\r\n              <p class=\"opacity-50 font-semibold line-through\">\r\n                {{ convertMoney(item.price) }}\r\n              </p>\r\n            </div>\r\n            <div class=\"flex gap-2\">\r\n              <div class=\"flex\">\r\n                <img\r\n                  loading=\"lazy\"\r\n                  class=\"w-5 h-5\"\r\n                  src=\"@/assets/fonts/yellow-star.svg\"\r\n                  alt=\"\"\r\n                />\r\n                <img\r\n                  loading=\"lazy\"\r\n                  class=\"w-5 h-5\"\r\n                  src=\"@/assets/fonts/yellow-star.svg\"\r\n                  alt=\"\"\r\n                />\r\n                <img\r\n                  loading=\"lazy\"\r\n                  class=\"w-5 h-5\"\r\n                  src=\"@/assets/fonts/yellow-star.svg\"\r\n                  alt=\"\"\r\n                />\r\n                <img\r\n                  loading=\"lazy\"\r\n                  class=\"w-5 h-5\"\r\n                  src=\"@/assets/fonts/yellow-star.svg\"\r\n                  alt=\"\"\r\n                />\r\n                <img\r\n                  loading=\"lazy\"\r\n                  class=\"w-5 h-5\"\r\n                  src=\"@/assets/fonts/yellow-star.svg\"\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n              <p class=\"opacity-50\">({{ item.stock }})</p>\r\n            </div>\r\n          </div>\r\n        </router-link>\r\n      </template>\r\n      <template v-if=\"!perItems.length\">\r\n        <div>Don't have any items</div>\r\n      </template>\r\n    </div>\r\n    <div id=\"panigate\" class=\"mt-16\">\r\n      <nav>\r\n        <ul class=\"flex justify-center items-center gap-2\">\r\n          <li\r\n            class=\"page-item\"\r\n            @click=\"currentPage--, calItemsPages(currentPage)\"\r\n          >\r\n            <\r\n          </li>\r\n          <li\r\n            class=\"page-item\"\r\n            :class=\"{ active: index == currentPage }\"\r\n            @click=\"(currentPage = index), calItemsPages()\"\r\n            v-for=\"index in totalPages\"\r\n          >\r\n            {{ index }}\r\n          </li>\r\n          <li class=\"page-item\" @click=\"currentPage++, calItemsPages()\">></li>\r\n        </ul>\r\n      </nav>\r\n    </div>\r\n  </div>\r\n  <div v-else>\r\n    <SkeletonLoading />\r\n  </div>\r\n  <contextHolder />\r\n</template>\r\n\r\n<script setup>\r\nimport { notification } from \"ant-design-vue\";\r\nconst [api, contextHolder] = notification.useNotification();\r\nconst handleOpenNotification = (item, emailUser, type) => {\r\n  if (!emailUser) {\r\n    api.error({\r\n      message: \"Error\",\r\n      description: \"Please login to add to your wish list.\",\r\n    });\r\n  } else {\r\n    api.success({\r\n      message: \"Success\",\r\n      description: `Added ${item.name} to your ${type}.`,\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<script>\r\nimport useFetch from \"@/store/fetchAPI\";\r\nimport convertMoney from \"../utils/convertMoney\";\r\nimport calculatorSales from \"@/utils/calculatorDiscount\";\r\n\r\nimport SkeletonLoading from \"@/components/SkeletonLoading.vue\";\r\nimport { ref } from \"vue\";\r\n\r\nimport User from \"@/store/getUser\";\r\n\r\nexport default {\r\n  components: { SkeletonLoading },\r\n  props: [\"nameList\"],\r\n  data() {\r\n    const { listItems, addToCart, addToWishList, fetchData } = useFetch();\r\n    const items = ref(null);\r\n\r\n    const currentPage = ref(1);\r\n    const perPage = 8;\r\n    const perItems = ref([]);\r\n    const totalPages = ref(0);\r\n\r\n    const calItemsPages = () => {\r\n      currentPage.value < 1 || currentPage.value > totalPages.value\r\n        ? (currentPage.value = 1)\r\n        : currentPage.value;\r\n\r\n      perItems.value = items.value.slice(\r\n        (currentPage.value - 1) * perPage,\r\n        (currentPage.value - 1) * perPage + perPage\r\n      );\r\n    };\r\n\r\n    setTimeout(async () => {\r\n      await fetchData(this.nameList);\r\n\r\n      items.value = listItems.value;\r\n\r\n      calItemsPages();\r\n\r\n      totalPages.value = Math.ceil(items.value.length / perPage);\r\n    }, 500);\r\n\r\n    return {\r\n      items,\r\n      addToCart,\r\n      addToWishList,\r\n      convertMoney,\r\n      calculatorSales,\r\n      perItems,\r\n      totalPages,\r\n      calItemsPages,\r\n      currentPage,\r\n      emailUser: \"\",\r\n    };\r\n  },\r\n  async mounted() {\r\n    this.emailUser = await User().getEmail();\r\n  },\r\n};\r\n</script>\r\n<style lang=\"css\" scoped>\r\n#date > div:not(:last-child)::after {\r\n  content: \":\";\r\n  color: #e07575;\r\n  height: 42px;\r\n  font-size: 40px;\r\n  line-height: 48px;\r\n}\r\n\r\n.page-item {\r\n  width: 35px;\r\n  height: 35px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  cursor: pointer;\r\n  border: 1px solid #e07575;\r\n  border-radius: 5px;\r\n}\r\n.page-item:hover {\r\n  background-color: #e07575;\r\n  color: white;\r\n}\r\n.page-item.active {\r\n  background-color: #e07575;\r\n  color: white;\r\n}\r\n</style>\r\n","import script from \"./allProducts.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./allProducts.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./allProducts.vue?vue&type=style&index=0&id=67b6d3ee&lang=css&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-67b6d3ee\"]])\n\nexport default __exports__"],"names":["__default__","components","SkeletonLoading","props","data","listItems","addToCart","addToWishList","fetchData","useFetch","items","ref","currentPage","perPage","perItems","totalPages","calItemsPages","value","slice","setTimeout","async","this","nameList","Math","ceil","length","convertMoney","calculatorSales","emailUser","mounted","User","getEmail","api","contextHolder","notification","useNotification","handleOpenNotification","item","type","success","message","description","name","error","__exports__"],"sourceRoot":""}