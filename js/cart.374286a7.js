"use strict";(self["webpackChunkecommerce_vuejs"]=self["webpackChunkecommerce_vuejs"]||[]).push([[949],{2810:function(e,t,a){a.r(t),a.d(t,{default:function(){return _}});var l=a(641),o=a(33);const u={class:"max-w-[1170px] mx-auto max-tablet:mx-3"},s={id:"road-map",class:"flex items-center gap-3 my-20"},r={class:"table w-full"},d={class:"mt-20 flex max-tablet:flex-col max-tablet:gap-3 justify-between"},c={class:"border border-solid border-black py-8 px-6 rounded-md"},n={class:"w-[422px] max-tablet:w-full"},i={class:"flex justify-between border-b-2 border-[#ccc] pb-4"},b={class:"flex justify-between border-b-2 border-[#ccc] py-4"},m={key:0},p={key:1},k={class:"flex justify-between border-b-2 border-[#ccc] py-4"},f={key:0},x={key:1};function y(e,t,a,y,h,w){const v=(0,l.g2)("router-link"),L=(0,l.g2)("a-breadcrumb-item"),C=(0,l.g2)("a-breadcrumb"),g=(0,l.g2)("a-popconfirm"),_=(0,l.g2)("a-table");return(0,l.uX)(),(0,l.CE)("div",u,[(0,l.Lk)("div",s,[(0,l.bF)(C,null,{default:(0,l.k6)((()=>[(0,l.bF)(L,null,{default:(0,l.k6)((()=>[(0,l.bF)(v,{to:"/"},{default:(0,l.k6)((()=>t[1]||(t[1]=[(0,l.eW)(" Home ")]))),_:1})])),_:1}),(0,l.bF)(L,null,{default:(0,l.k6)((()=>t[2]||(t[2]=[(0,l.eW)("Cart")]))),_:1})])),_:1})]),(0,l.Lk)("div",r,[(0,l.bF)(_,{class:"max-tablet:w-[370px] max-tablet:overflow-auto","row-selection":y.rowSelection,columns:y.columns,"data-source":y.products,"row-key":e=>e.id},{bodyCell:(0,l.k6)((({column:e,text:a,record:u})=>["name"===e.dataIndex?((0,l.uX)(),(0,l.CE)(l.FK,{key:0},[(0,l.eW)((0,o.v_)(a),1)],64)):"delete"===e.dataIndex?((0,l.uX)(),(0,l.Wv)(g,{key:1,title:"Sure to delete?",onConfirm:e=>y.onDelete(y.emailUser,u._id)},{default:(0,l.k6)((()=>t[3]||(t[3]=[(0,l.Lk)("a",null,"Delete",-1)]))),_:2},1032,["onConfirm"])):(0,l.Q3)("",!0)])),_:1},8,["row-selection","columns","data-source","row-key"])]),(0,l.Lk)("div",d,[t[8]||(t[8]=(0,l.Lk)("div",{class:"flex gap-4"},[(0,l.Lk)("input",{class:"border border-solid border-[#000] h-fit rounded-md py-3 px-6",type:"text",placeholder:"Coupon Code"}),(0,l.Lk)("button",{class:"bg-primary text-white h-fit py-3 px-6 rounded-md font-medium"}," Apply Coupon ")],-1)),(0,l.Lk)("div",c,[(0,l.Lk)("div",n,[t[7]||(t[7]=(0,l.Lk)("h1",{class:"text-base font-semibold mb-6"},"Cart total",-1)),(0,l.Lk)("div",i,[t[4]||(t[4]=(0,l.Lk)("p",null,"Subtotal:",-1)),(0,l.Lk)("p",null,"$"+(0,o.v_)(y.subTotal),1)]),(0,l.Lk)("div",b,[t[5]||(t[5]=(0,l.Lk)("p",null,"Shipping:",-1)),(0,l.Lk)("div",null,[y.subTotal>500?((0,l.uX)(),(0,l.CE)("p",m,"Free")):((0,l.uX)(),(0,l.CE)("p",p,"$30"))])]),(0,l.Lk)("div",k,[t[6]||(t[6]=(0,l.Lk)("p",null,"Total:",-1)),(0,l.Lk)("div",null,[y.subTotal>500?((0,l.uX)(),(0,l.CE)("p",f,"$"+(0,o.v_)(y.subTotal),1)):((0,l.uX)(),(0,l.CE)("p",x,"$"+(0,o.v_)(y.subTotal+30),1))])])]),(0,l.bF)(v,{to:"/checkout"},{default:(0,l.k6)((()=>[(0,l.Lk)("button",{class:"mt-4 bg-primary text-white font-medium py-4 px-12 rounded-md",onClick:t[0]||(t[0]=(...t)=>e.submit&&e.submit(...t))}," proceed to checkout ")])),_:1})])])])}var h=a(953),w=a(5157),v=a(3250),L={setup(){const e=(0,h.KR)(""),t=(0,h.KR)([]),{listItems:a,fetchData:l,deleteData:o}=(0,w.A)(),u=[{title:"Product",dataIndex:"productName"},{title:"Price",dataIndex:"productPrice"},{title:"Quantity",dataIndex:"quantity"},{title:"Subtotal",dataIndex:"subtotal"},{title:"",dataIndex:"delete"}],s={onChange:(e,t)=>{console.log(`selectedRowKeys: ${e}`,"selectedRows: ",t)},getCheckboxProps:e=>({disabled:"Disabled User"===e.name,name:e.name})},r=(e,t)=>{const a=`user/auth/${e}/cart/${t}`;o(a),setTimeout((async()=>{location.reload()}),100)},d=(0,h.Kh)({"input-number":1});return{formState:d,columns:u,products:t,subTotal:(0,h.KR)(null),rowSelection:s,onDelete:r,emailUser:e}},async mounted(){const{listItems:e,fetchData:t}=(0,w.A)();this.emailUser=await(0,v.A)().getEmail(),await t(`user/auth/${this.emailUser}/cart`),this.products=e,await this.products.forEach(((e,t)=>{e.key=t+1,e.subtotal=e.productPrice*e.quantity,this.subTotal+=e.subtotal,e.subtotal="$"+e.subtotal,e.productPrice="$"+e.productPrice}))}},C=a(6262);const g=(0,C.A)(L,[["render",y]]);var _=g}}]);
//# sourceMappingURL=cart.374286a7.js.map