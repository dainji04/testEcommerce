"use strict";(self["webpackChunkecommerce_vuejs"]=self["webpackChunkecommerce_vuejs"]||[]).push([[787],{5055:function(e,t,s){s.r(t),s.d(t,{default:function(){return R}});var r=s(641),a=s(3751),l=s(33),i=s(1710),n=s.p+"img/close.c30a1d69.svg",o=s(3738);const u={class:"mt-[60px]"},c={class:"flex items-center gap-[90px] max-tablet:px-4"},d={class:"w-[30%] max-tablet:w-full"},m={key:0,class:"bg-[#ff818146] border-[#ff818266] border-2 border-solid rounded flex justify-center items-center h-20 mb-2"},p={class:"input-form"},h={key:0},g={class:"input-form"},k={key:0},b={class:"input-form"},f={key:0},v={class:"mt-8 flex justify-center items-center gap-4"};function L(e,t,s,L,w,y){const x=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("div",c,[t[17]||(t[17]=(0,r.Lk)("div",{class:"w-[60%] pt-[75px] bg-[#CBE4E8] max-tablet:hidden"},[(0,r.Lk)("img",{src:i,alt:""})],-1)),(0,r.Lk)("div",d,[w.userExists?((0,r.uX)(),(0,r.CE)("div",m,[t[7]||(t[7]=(0,r.Lk)("p",{class:"text-base"},"User already exists. Please log in.",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>w.userExists=!1)},t[6]||(t[6]=[(0,r.Lk)("img",{class:"ml-2 w-5 h-5",src:n,alt:""},null,-1)]))])):(0,r.Q3)("",!0),t[15]||(t[15]=(0,r.Lk)("h1",{class:"font-[inter] text-4xl font-medium"},"Create an account",-1)),t[16]||(t[16]=(0,r.Lk)("h2",{class:"mt-6 mb-12"},"Enter your details below",-1)),(0,r.Lk)("form",{onSubmit:t[4]||(t[4]=(0,a.D$)(((...e)=>y.validate&&y.validate(...e)),["prevent"]))},[(0,r.Lk)("div",p,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>w.name=e),required:""},null,512),[[a.Jo,w.name]]),t[8]||(t[8]=(0,r.Lk)("label",{for:"name"},"Name",-1)),w.error.name?((0,r.uX)(),(0,r.CE)("div",h,[(0,r.Lk)("p",null,(0,l.v_)(w.error.name),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",g,[(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":t[2]||(t[2]=e=>w.email=e),required:""},null,512),[[a.Jo,w.email]]),t[9]||(t[9]=(0,r.Lk)("label",{for:"email"},"Email",-1)),w.error.email?((0,r.uX)(),(0,r.CE)("div",k,[(0,r.Lk)("p",null,(0,l.v_)(w.error.email),1)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",b,[(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=e=>w.pwd=e),required:""},null,512),[[a.Jo,w.pwd]]),t[10]||(t[10]=(0,r.Lk)("label",{for:"password"},"password",-1)),w.error.pwd?((0,r.uX)(),(0,r.CE)("div",f,[(0,r.Lk)("p",null,(0,l.v_)(w.error.pwd),1)])):(0,r.Q3)("",!0)]),t[11]||(t[11]=(0,r.Lk)("button",{type:"submit",class:"mt-10 button--hover w-full"}," Create Account ",-1))],32),(0,r.Lk)("button",{class:"mt-4 w-full flex justify-center items-center gap-4 bg-white border border-black rounded-md py-4",onClick:t[5]||(t[5]=(...e)=>y.signInGoogle&&y.signInGoogle(...e))},t[12]||(t[12]=[(0,r.Lk)("img",{src:o,alt:""},null,-1),(0,r.Lk)("p",null,"Sign up with Google",-1)])),(0,r.Lk)("div",v,[t[14]||(t[14]=(0,r.Lk)("p",null,"Already have account?",-1)),(0,r.bF)(x,{to:"/login",class:"font-medium border-b border-black"},{default:(0,r.k6)((()=>t[13]||(t[13]=[(0,r.eW)(" Log in ")]))),_:1})])])])])}s(4114);var w=s(953),y=s(9988),x=s(5220),E=s(5157),C={data(){const e=(0,w.KR)(""),t=(0,w.KR)(""),s=(0,w.KR)(""),r=(0,x.rd)(),a=(0,w.KR)(!1),l=()=>{y.A.auth().createUserWithEmailAndPassword(t.value,s.value).then((t=>{t.user.updateProfile({displayName:e.value}),r.replace("/")})).catch((e=>{"auth/email-already-in-use"===e.code?a.value=!0:console.log(e.message)}))};return{URL:(0,E.A)().URL,Register:l,name:e,email:t,pwd:s,error:[],userExists:a}},methods:{signInGoogle(){const e=new y.A.auth.GoogleAuthProvider;y.A.auth().signInWithPopup(e).then((e=>{const t=e.user;this.email=t.email,this.name=t.displayName,this.createUserDB(),setTimeout((()=>{this.$router.push("/")}),2e3)})).catch((e=>{console.log("Google Sign-in failed",e)}))},minlength(e,t){return e.length>t},checkEmail(e){return!!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},createUserDB(){const e=this.URL+"user/register";console.log(e),fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,emailLogin:this.email})})},async validate(){this.error=[],this.minlength(this.name,5)||(this.error["name"]="name must be at least 5 characters"),this.checkEmail(this.email)||(this.error["email"]="Entered an invalid email address!"),this.minlength(this.pwd,5)||(this.error["pwd"]="password must be at least 6 characters"),0==Object.keys(this.error).length&&(this.createUserDB(),this.Register())}}},U=s(6262);const A=(0,U.A)(C,[["render",L],["__scopeId","data-v-7464131d"]]);var R=A},3738:function(e,t,s){e.exports=s.p+"img/google.8c7d4864.svg"},1710:function(e,t,s){e.exports=s.p+"img/signupBG.9efe7bb4.png"}}]);
//# sourceMappingURL=signup.b0399deb.js.map