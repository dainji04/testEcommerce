{"version":3,"file":"js/cart.374286a7.js","mappings":"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","sources":["webpack://ecommerce-vuejs/./src/pages/Cart.vue","webpack://ecommerce-vuejs/./src/pages/Cart.vue?cdac"],"sourcesContent":["<template>\r\n  <div class=\"max-w-[1170px] mx-auto max-tablet:mx-3\">\r\n    <div id=\"road-map\" class=\"flex items-center gap-3 my-20\">\r\n      <a-breadcrumb>\r\n        <a-breadcrumb-item>\r\n          <router-link to=\"/\"> Home </router-link>\r\n        </a-breadcrumb-item>\r\n        <a-breadcrumb-item>Cart</a-breadcrumb-item>\r\n      </a-breadcrumb>\r\n    </div>\r\n    <div class=\"table w-full\">\r\n      <a-table\r\n        class=\"max-tablet:w-[370px] max-tablet:overflow-auto\"\r\n        :row-selection=\"rowSelection\"\r\n        :columns=\"columns\"\r\n        :data-source=\"products\"\r\n        :row-key=\"(record) => record.id\"\r\n      >\r\n        <template #bodyCell=\"{ column, text, record }\">\r\n          <template v-if=\"column.dataIndex === 'name'\">\r\n            {{ text }}\r\n          </template>\r\n          <template v-else-if=\"column.dataIndex === 'delete'\">\r\n            <a-popconfirm\r\n              title=\"Sure to delete?\"\r\n              @confirm=\"onDelete(emailUser, record._id)\"\r\n            >\r\n              <a>Delete</a>\r\n            </a-popconfirm>\r\n          </template>\r\n        </template>\r\n      </a-table>\r\n    </div>\r\n    <div\r\n      class=\"mt-20 flex max-tablet:flex-col max-tablet:gap-3 justify-between\"\r\n    >\r\n      <div class=\"flex gap-4\">\r\n        <input\r\n          class=\"border border-solid border-[#000] h-fit rounded-md py-3 px-6\"\r\n          type=\"text\"\r\n          placeholder=\"Coupon Code\"\r\n        />\r\n        <button\r\n          class=\"bg-primary text-white h-fit py-3 px-6 rounded-md font-medium\"\r\n        >\r\n          Apply Coupon\r\n        </button>\r\n      </div>\r\n      <div class=\"border border-solid border-black py-8 px-6 rounded-md\">\r\n        <div class=\"w-[422px] max-tablet:w-full\">\r\n          <h1 class=\"text-base font-semibold mb-6\">Cart total</h1>\r\n          <div class=\"flex justify-between border-b-2 border-[#ccc] pb-4\">\r\n            <p>Subtotal:</p>\r\n            <p>${{ subTotal }}</p>\r\n          </div>\r\n          <div class=\"flex justify-between border-b-2 border-[#ccc] py-4\">\r\n            <p>Shipping:</p>\r\n            <div>\r\n              <p v-if=\"subTotal > 500\">Free</p>\r\n              <p v-else>$30</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"flex justify-between border-b-2 border-[#ccc] py-4\">\r\n            <p>Total:</p>\r\n            <div>\r\n              <p v-if=\"subTotal > 500\">${{ subTotal }}</p>\r\n              <p v-else>${{ subTotal + 30 }}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <!-- <div>\r\n          <stripe-checkout\r\n            ref=\"checkoutRef\"\r\n            mode=\"payment\"\r\n            :pk=\"publishableKey\"\r\n            :line-items=\"lineItems\"\r\n            :success-url=\"successURL\"\r\n            :cancel-url=\"cancelURL\"\r\n            @loading=\"(v) => (loading = v)\"\r\n          />\r\n        </div> -->\r\n        <router-link to=\"/checkout\">\r\n          <button\r\n            class=\"mt-4 bg-primary text-white font-medium py-4 px-12 rounded-md\"\r\n            @click=\"submit\"\r\n          >\r\n            proceed to checkout\r\n          </button>\r\n        </router-link>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { reactive, ref } from \"vue\";\r\nimport useFetch from \"@/store/fetchAPI\";\r\nimport User from \"@/store/getUser\";\r\n// import { StripeCheckout } from \"@vue-stripe/vue-stripe\";\r\nexport default {\r\n  setup() {\r\n    const emailUser = ref(\"\");\r\n    const products = ref([]);\r\n    const { listItems, fetchData, deleteData } = useFetch();\r\n\r\n    const columns = [\r\n      {\r\n        title: \"Product\",\r\n        dataIndex: \"productName\",\r\n      },\r\n      {\r\n        title: \"Price\",\r\n        dataIndex: \"productPrice\",\r\n      },\r\n      {\r\n        title: \"Quantity\",\r\n        dataIndex: \"quantity\",\r\n      },\r\n      {\r\n        title: \"Subtotal\",\r\n        dataIndex: \"subtotal\",\r\n      },\r\n      {\r\n        title: \"\",\r\n        dataIndex: \"delete\",\r\n      },\r\n    ];\r\n    const rowSelection = {\r\n      onChange: (selectedRowKeys, selectedRows) => {\r\n        console.log(\r\n          `selectedRowKeys: ${selectedRowKeys}`,\r\n          \"selectedRows: \",\r\n          selectedRows\r\n        );\r\n      },\r\n      getCheckboxProps: (record) => ({\r\n        disabled: record.name === \"Disabled User\",\r\n        // Column configuration not to be checked\r\n        name: record.name,\r\n      }),\r\n    };\r\n\r\n    const onDelete = (email, id) => {\r\n      const endPoint = `user/auth/${email}/cart/${id}`;\r\n      deleteData(endPoint);\r\n      setTimeout(async () => {\r\n        location.reload();\r\n      }, 100);\r\n    };\r\n    const formState = reactive({\r\n      \"input-number\": 1,\r\n    });\r\n\r\n    return {\r\n      formState,\r\n      columns,\r\n      products,\r\n      subTotal: ref(null),\r\n      rowSelection,\r\n      onDelete,\r\n      emailUser,\r\n    };\r\n  },\r\n\r\n  async mounted() {\r\n    const { listItems, fetchData } = useFetch();\r\n\r\n    this.emailUser = await User().getEmail();\r\n\r\n    await fetchData(`user/auth/${this.emailUser}/cart`);\r\n    this.products = listItems;\r\n\r\n    await this.products.forEach((product, index) => {\r\n      product.key = index + 1;\r\n      product.subtotal = product.productPrice * product.quantity;\r\n      this.subTotal += product.subtotal;\r\n      product.subtotal = \"$\" + product.subtotal;\r\n      product.productPrice = \"$\" + product.productPrice;\r\n    });\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./Cart.vue?vue&type=template&id=0813cfc8\"\nimport script from \"./Cart.vue?vue&type=script&lang=js\"\nexport * from \"./Cart.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","id","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_a_breadcrumb","default","_withCtx","_component_a_breadcrumb_item","_component_router_link","to","_cache","_createTextVNode","_","_hoisted_3","_component_a_table","$setup","rowSelection","columns","products","record","bodyCell","column","text","dataIndex","_Fragment","_toDisplayString","_createBlock","_component_a_popconfirm","title","onConfirm","$event","onDelete","emailUser","_id","_createCommentVNode","_hoisted_4","type","placeholder","_hoisted_5","_hoisted_6","_hoisted_7","subTotal","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","onClick","args","_ctx","submit","setup","ref","listItems","fetchData","deleteData","useFetch","onChange","selectedRowKeys","selectedRows","console","log","getCheckboxProps","disabled","name","email","endPoint","setTimeout","async","location","reload","formState","reactive","mounted","this","User","getEmail","forEach","product","index","subtotal","productPrice","quantity","__exports__","render"],"sourceRoot":""}